ğŸ“ NOTAS IMPORTANTES - NUEVO CLIENTE RAILWAY (TROLLEY)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… CORS YA CONFIGURADO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

La URL del frontend ya estÃ¡ agregada en src/main.ts:

   'https://perfumeria-sistema-production-1f4b.up.railway.app'

No necesitas modificar el cÃ³digo del backend.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”‘ URLS IMPORTANTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Base de datos (externa - para setup local):
postgresql://postgres:wGcAKDSKDggpmWPulURTqPDEYOPovsPy@trolley.proxy.rlwy.net:45234/railway

Base de datos (interna - para Railway):
postgresql://postgres:wGcAKDSKDggpmWPulURTqPDEYOPovsPy@postgres.railway.internal:5432/railway

âš ï¸ En Railway, SIEMPRE usar la URL INTERNA para mejor performance.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš¡ EJECUTAR SETUP (ELIGE UNA OPCIÃ“N)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

OPCIÃ“N 1 - Script PowerShell (Recomendado):
   .\setup-client-trolley.ps1

OPCIÃ“N 2 - Railway CLI:
   railway run npm run setup:new-client

OPCIÃ“N 3 - Manual:
   $env:DATABASE_URL="postgresql://postgres:wGcAKD...@trolley.proxy.rlwy.net:45234/railway"
   npx prisma migrate deploy
   npx prisma db seed

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŒ VARIABLES DE ENTORNO REQUERIDAS EN RAILWAY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Backend (backend-perfumeria):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATABASE_URL    â†’ URL interna (postgres.railway...)   â”‚
â”‚ JWT_SECRET      â†’ perfumeria-super-secret-key...      â”‚
â”‚ JWT_EXPIRES_IN  â†’ 7d                                   â”‚
â”‚ PORT            â†’ 3000                                  â”‚
â”‚ NODE_ENV        â†’ production                           â”‚
â”‚ TZ              â†’ America/Bogota âš ï¸ CRÃTICO           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frontend (perfumeria-sistema):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VITE_API_URL    â†’ https://backend-perfumeria-         â”‚
â”‚                   production-2dce.up.railway.app/api   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ CREDENCIALES INICIALES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Usuario administrador (creado por el seed):

   Username:  admin
   Password:  Admin123!
   Rol:       SUPER_ADMIN

ğŸ”’ IMPORTANTE: Cambiar la contraseÃ±a despuÃ©s del primer login.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š LO QUE SE CREA AUTOMÃTICAMENTE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… 36+ Tablas del schema:
   - User, Role, UserRole
   - Product, Category, Unit, Supplier
   - Sale, SaleDetail, Purchase
   - Invoice, Expense, CashClosing
   - Notification, Order, ProductBatch
   - etc.

âœ… Datos iniciales:
   - 4 Roles (SUPER_ADMIN, ADMIN, VENDEDOR, USER)
   - 1 Usuario admin
   - MÃ³dulos del sistema con permisos
   - CategorÃ­as bÃ¡sicas
   - Unidades de medida estÃ¡ndar

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§ª PRUEBAS POSTERIORES AL SETUP
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Login en frontend
   â†’ https://perfumeria-sistema-production-1f4b.up.railway.app/login
   â†’ Usar: admin / Admin123!

2. Dashboard debe cargar
   â†’ Debe mostrar mÃ©tricas (probablemente en cero)

3. MÃ³dulos deben estar accesibles
   â†’ Productos, Ventas, Compras, etc.

4. Crear un producto de prueba
   â†’ Ir a Productos â†’ Nuevo
   â†’ Verificar que se guarda correctamente

5. Hacer una venta de prueba
   â†’ Ir a POS
   â†’ Hacer venta
   â†’ Verificar que la fecha es correcta âš ï¸

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ PROBLEMA COMÃšN: FECHAS INCORRECTAS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Si las ventas se guardan con fecha incorrecta:

CAUSA: Variable TZ no configurada en Railway

SOLUCIÃ“N:
   1. Railway â†’ backend-perfumeria â†’ Variables
   2. Agregar: TZ = America/Bogota
   3. Railway harÃ¡ redeploy automÃ¡tico
   4. Esperar 2-3 minutos
   5. Probar nuevamente

Ver guÃ­a completa: SOLUCION_TIMEZONE_RAILWAY.md

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” VERIFICAR BASE DE DATOS (Opcional)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Con Prisma Studio:

   $env:DATABASE_URL="postgresql://postgres:wGcAKD...@trolley.proxy.rlwy.net:45234/railway"
   npx prisma studio

Abre en: http://localhost:5555

Debes ver:
   âœ… Tabla User con 1 registro (admin)
   âœ… Tabla Role con 4 registros
   âœ… Tabla SystemModule con registros
   âœ… Etc.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ COMANDOS ÃšTILES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# Ver logs del backend
railway logs --service backend-perfumeria --follow

# Ver variables configuradas
railway variables --service backend-perfumeria

# Ejecutar seed nuevamente (si es necesario)
railway run npx prisma db seed

# Conectar a PostgreSQL
railway connect postgres

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… CHECKLIST COMPLETO
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PRE-SETUP:
[ ] Script setup-client-trolley.ps1 disponible
[ ] Railway CLI instalado (si usas opciÃ³n 2)

SETUP:
[ ] Migraciones ejecutadas (prisma migrate deploy)
[ ] Seed ejecutado (prisma db seed)
[ ] Tablas creadas verificadas

CONFIGURACIÃ“N RAILWAY:
[ ] DATABASE_URL configurada (backend)
[ ] JWT_SECRET configurada (backend)
[ ] TZ=America/Bogota configurada (backend) âš ï¸
[ ] VITE_API_URL configurada (frontend)

VERIFICACIÃ“N:
[ ] Login funciona con admin/Admin123!
[ ] Dashboard carga sin errores
[ ] MÃ³dulos son accesibles
[ ] Crear producto funciona
[ ] Hacer venta funciona
[ ] Fecha de venta es correcta

OPCIONAL:
[ ] Cambiar contraseÃ±a del admin
[ ] Crear usuarios adicionales
[ ] Configurar roles y permisos
[ ] Agregar categorÃ­as personalizadas
[ ] Agregar proveedores

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“… Fecha: 20 de Enero, 2026
ğŸ“ Cliente: Nuevo (Bodega)
ğŸ—„ï¸  BD: Railway - trolley (45234)
ğŸ“¦ Estado: Listo para configurar

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
